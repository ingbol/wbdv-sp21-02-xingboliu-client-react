{"ast":null,"code":"var _jsxFileName = \"/Users/liuxingbo/webdev/2021/spring/02/wbdv-sp21-02-xingboliu-client-react/src/components/course-editor/module-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport moduleService from \"../../services/module-service\";\nimport { Link, useParams } from \"react-router-dom\";\nimport EditableItem from \"../editable-item\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModuleList = ({\n  myModules = [],\n  createModule,\n  deleteModule,\n  updateModule,\n  findModulesForCourse\n}) => {\n  _s();\n\n  const {\n    layout,\n    courseId,\n    moduleId\n  } = useParams();\n  useEffect(() => {\n    findModulesForCourse(courseId);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: [myModules.map(module => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `list-group-item ${module._id == moduleId ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(EditableItem, {\n          to: `/courses/${layout}/edit/${courseId}/modules/${module._id}`,\n          updateItem: updateModule,\n          deleteItem: deleteModule,\n          active: true,\n          item: module\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/courses/${layout}/edit/${courseId}`,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => createModule(courseId),\n            className: \"fas fa-plus fa-2x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ModuleList, \"bkVDcCMmYyaldC66KuNnxfXS8co=\", false, function () {\n  return [useParams];\n});\n\n_c = ModuleList;\n\nconst stpm = state => {\n  return {\n    myModules: state.moduleReducer.modules\n  };\n};\n\nconst dtpm = dispatch => {\n  return {\n    createModule: courseId => {\n      moduleService.createModule(courseId, {\n        title: \"New Module\"\n      }).then(theActualModule => dispatch({\n        type: \"CREATE_MODULE\",\n        module: theActualModule\n      }));\n    },\n    deleteModule: module => moduleService.deleteModule(module._id).then(status => dispatch({\n      type: \"DELETE_MODULE\",\n      moduleToDelete: module\n    })),\n    updateModule: module => moduleService.updateModule(module._id, module).then(status => dispatch({\n      type: \"UPDATE_MODULE\",\n      module\n    })),\n    findModulesForCourse: courseId => {\n      moduleService.findModulesForCourse(courseId).then(theModules => dispatch({\n        type: \"FIND_MODULES_FOR_COURSE\",\n        modules: theModules\n      }));\n    }\n  };\n};\n\nexport default connect(stpm, dtpm)(ModuleList);\n\nvar _c;\n\n$RefreshReg$(_c, \"ModuleList\");","map":{"version":3,"sources":["/Users/liuxingbo/webdev/2021/spring/02/wbdv-sp21-02-xingboliu-client-react/src/components/course-editor/module-list.js"],"names":["React","useEffect","moduleService","Link","useParams","EditableItem","connect","ModuleList","myModules","createModule","deleteModule","updateModule","findModulesForCourse","layout","courseId","moduleId","map","module","_id","stpm","state","moduleReducer","modules","dtpm","dispatch","title","then","theActualModule","type","status","moduleToDelete","theModules"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\nimport moduleService from \"../../services/module-service\"\nimport {Link, useParams} from \"react-router-dom\";\nimport EditableItem from \"../editable-item\";\nimport {connect} from \"react-redux\";\n\nconst ModuleList = (\n    {\n        myModules=[],\n        createModule,\n        deleteModule,\n        updateModule,\n        findModulesForCourse\n    }) => {\n    const {layout, courseId, moduleId} = useParams();\n    useEffect(() => {\n        findModulesForCourse(courseId)\n    }, [])\n\n    return (\n        <div>\n            <ul className=\"list-group\">\n                {\n                    myModules.map(module =>\n                        <li className={`list-group-item ${module._id == moduleId ? 'active' : ''}`}>\n                            <EditableItem\n                                to={`/courses/${layout}/edit/${courseId}/modules/${module._id}`}\n                                updateItem={updateModule}\n                                deleteItem={deleteModule}\n                                active={true}\n                                item={module}\n                            />\n                        </li>\n                    )\n                }\n                <li className=\"list-group-item\">\n                    <Link to={`/courses/${layout}/edit/${courseId}`}>\n                        <i onClick={() => createModule(courseId)} className=\"fas fa-plus fa-2x\"></i>\n                    </Link>\n                </li>\n            </ul>\n        </div>\n    )\n}\n\nconst stpm = (state) => {\n    return {\n        myModules: state.moduleReducer.modules\n    }\n}\n\nconst dtpm = (dispatch) => {\n    return {\n        createModule: (courseId) => {\n            moduleService.createModule(courseId, {title: \"New Module\"})\n                .then(theActualModule => dispatch({\n                    type: \"CREATE_MODULE\",\n                    module: theActualModule\n                }))\n        },\n        deleteModule: (module) =>\n            moduleService.deleteModule(module._id)\n                .then(status => dispatch({\n                    type: \"DELETE_MODULE\",\n                    moduleToDelete: module\n                })),\n        updateModule: (module) =>\n            moduleService.updateModule(module._id, module)\n                .then(status => dispatch({\n                    type: \"UPDATE_MODULE\",\n                    module\n                })),\n        findModulesForCourse: (courseId) => {\n            moduleService.findModulesForCourse(courseId)\n                .then(theModules => dispatch({\n                    type: \"FIND_MODULES_FOR_COURSE\",\n                    modules: theModules\n                }))\n        }\n    }\n}\n\nexport default connect(stpm, dtpm)(ModuleList)"]},"metadata":{},"sourceType":"module"}